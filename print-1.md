# 第一次印刷

## 前言

本书的初印是一次非常可怕的经历，在我们正式交稿前，我们进行了一版批量 review，并交给出版社编辑进行修改。

但没有想到，结果竟是编辑改了一些，没有改一些，反正就是改的很乱，也没有把最终稿给我们审核就拿去印刷了，导致了初印出现了大量的严重问题（要知道这本书可是连贯性很强的类型）。

但也因此，我们以此作为筹码，本书得以开源，也算是一些聊以慰藉了，开源版传送门：https://golang2.eddycjy.com/。

如果有小伙伴还在基于初印的纸质书学习，又很想要新的，也可以联系我们，我会为初印纸质书的同学申请新批次的纸质书。

## 批次
- 批次：2020 年 7 月第 1 版（初印）
- 截止：20200719。
- 修复：第 2 版，也就是重印。

## 公共问题
- 部分代码缩进和排版问题：已强烈反馈至出版社，将在重印修复。原因是由于 gofmt <tab> 与 word 的兼容适配导致。
- 部分常量定义未修改全：前期采取的是大写下划线驼峰的命名方式，后期因遵循 Reviewer 建议进行了整体调整，也就是改为大驼峰命名。在批量改动时，word 书稿存在改漏的情况。

## 细节问题
- P3：args[0]，运行命令没传参数会导致 panic。
- P6：正确的应该为 “如果flag标志位为"--"”，但书中变为了破折号。
- P11：word 子命令的常量声明应当为大写驼峰的命名方法。
- P28：修改 AssemblyColumns 函数的 fmt.Sprintf 为：fmt.Sprintf("`"+"json:"+"\"%s\""+"`", column.ColumnName)。若不修改，则会导致所生成的 json 标签缺少双引号。
-  P15：time now 子命令的两种时间格式描述，反了，应当一和二对调。
- P32：在 2.1.3 中，go get 所安装的 gin 版本应当是 v1.6.3。
- P45：文章方法，出现内容错误，应当改为 NewArticle 和 func(a Article)。
- P53：DatabaseSetting 类型声明错误，应当改为 *setting.DatabaseSettingS。
- P67：Tag 的 List 方法中的 @Success Swagger 类型定义在这里应该为 model.Tag。
- P81：Tag 的 Update 方法定义应为 `return db.Model(&Tag{}).Where("id = ? AND is_del = ?", t.ID, 0).Update(t).Error`，否则会导致后面的彩蛋失效。
- P117：GetJWTSecret 方法返回值错误，应当改为 []byte。
- P129：2.10.2 的 Recovery 拦截器中的 global.Logger 不需要传入 c 参数，这一步还没有进行改造（2.11 才改造）。
- P136：图 2-17，粘贴错位置，这里不需要这张图。
- 附录A.1：有个拼写小错误，modules 写成了mou。
- 章节中个别图片在书稿中错粘。
